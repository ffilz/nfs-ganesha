{
  "comments": [
    {
      "key": {
        "uuid": "f4889bd3_a83e7736",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_handle.c",
        "patchSetId": 1
      },
      "lineNbr": 828,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2019-01-31T19:21:45Z",
      "side": 1,
      "message": "I think it\u0027s more complicated than just checking if we have an expire time.  There\u0027s also the valid bits, for example.  Also, this will just cause us to call into the sub_fsal without POSIX over and over, every time any attributes are needed, since they will still be considered invalid.  Maybe a better solution is to look into modifying mdcache_is_attrs_valid()?",
      "revId": "a467d21bfbaab1c6741d6b10a4f5ccce487530d2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5a5aaf0_13fcebb1",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_handle.c",
        "patchSetId": 1
      },
      "lineNbr": 828,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2019-01-31T19:26:34Z",
      "side": 1,
      "message": "Yea, this doesn\u0027t seem right.",
      "parentUuid": "f4889bd3_a83e7736",
      "revId": "a467d21bfbaab1c6741d6b10a4f5ccce487530d2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f096870_06bf6c68",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_handle.c",
        "patchSetId": 1
      },
      "lineNbr": 828,
      "author": {
        "id": 1004333
      },
      "writtenOn": "2019-02-01T11:28:38Z",
      "side": 1,
      "message": "Okay..I am thinking if any other attribute(like ACL) was not fetched earlier, we should let that be fetched and not ignore it if delegated. \n\n@Dan,\nIs it right to assume that at anytime entry-\u003eattrs.valid_mask contains the attributes bits updated so far?",
      "parentUuid": "b5a5aaf0_13fcebb1",
      "revId": "a467d21bfbaab1c6741d6b10a4f5ccce487530d2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69063729_66289450",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_handle.c",
        "patchSetId": 1
      },
      "lineNbr": 828,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2019-02-01T14:45:30Z",
      "side": 1,
      "message": "Yes, valid_mask is the bits that we think contain data.  That data may be out of data (see mdcache_is_attrs_valid()), and valid_mask may have ATTR_RDATTR_ERR set (making them all invalid).\n\nLooking at mdc_up_update(), it seems we don\u0027t update valid_mask in the entry when we set new data from the upcall.  That should probably be fixed.",
      "parentUuid": "7f096870_06bf6c68",
      "revId": "a467d21bfbaab1c6741d6b10a4f5ccce487530d2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04ec3d7f_f63f203e",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_handle.c",
        "patchSetId": 1
      },
      "lineNbr": 828,
      "author": {
        "id": 1004333
      },
      "writtenOn": "2019-02-01T15:02:34Z",
      "side": 1,
      "message": "Ack. Thanks! Will make the changes.",
      "parentUuid": "69063729_66289450",
      "revId": "a467d21bfbaab1c6741d6b10a4f5ccce487530d2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}