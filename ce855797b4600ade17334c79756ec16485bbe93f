{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5d7979cf_570234aa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1005370
      },
      "writtenOn": "2024-05-20T07:16:45Z",
      "side": 1,
      "message": "WARNING: Possible unwrapped commit description (prefer a maximum 75 chars per line)\nThe prometheus-cpp-lite supports atomic operations on int types, which is more efficient than the current prometheus-cpp library that uses double.",
      "revId": "ce855797b4600ade17334c79756ec16485bbe93f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8aaef55e_c666d451",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2024-05-20T15:14:34Z",
      "side": 1,
      "message": "Does this have an option of using the atomic counters we already have for many of the metrics? Keeping duplicate counters seems a waste.\n\nI think it would actually be worth having a discussion on the mailing list or in a github issue about plans for Prometheus monitoring.\n\nWe also need to address the scalability of having many \"per-xyz\" metrics.",
      "revId": "ce855797b4600ade17334c79756ec16485bbe93f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0ac0dec_74b24f1a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1037928
      },
      "writtenOn": "2024-05-21T08:13:02Z",
      "side": 1,
      "message": "Sure we can have a discussion. Yes, the new library supports the existing metrics too. The next commit migrates the existing metrics to the new API.\nAccording to our internal performance tests, the infrastructure proposed here scales well due to:\n1. Using atomic int instead of atomic double\n2. Defining the metrics at init time, and not during IOs",
      "parentUuid": "8aaef55e_c666d451",
      "revId": "ce855797b4600ade17334c79756ec16485bbe93f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61e7a339_93ee2b0a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1037928
      },
      "writtenOn": "2024-06-04T06:29:29Z",
      "side": 1,
      "message": "Discussed in the community call. Please reopen if there\u0027s anything else to discuss.",
      "parentUuid": "c0ac0dec_74b24f1a",
      "revId": "ce855797b4600ade17334c79756ec16485bbe93f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "262efef9_34884624",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2024-06-06T18:03:13Z",
      "side": 1,
      "message": "I was thinking about the cardinality issue. Our performance folks have raised an issue with having per export and per client metrics when there can be 1000s of exports and/or clients.\n\nI\u0027m not sure what the solution to that issue is.\n\nThis patch set still leaves the per export and per client metrics as dynamic right?",
      "parentUuid": "61e7a339_93ee2b0a",
      "revId": "ce855797b4600ade17334c79756ec16485bbe93f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f77a3ef_6e628d06",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1037928
      },
      "writtenOn": "2024-06-09T05:49:39Z",
      "side": 1,
      "message": "Yes it\u0027s backward compatible, just in case anyone is using it, there was no change in those metrics\nHowever, we wrapped the dynamic metrics under a `Enable_Dynamic_Metrics` parameter, so they can be disabled for better performance.",
      "parentUuid": "262efef9_34884624",
      "revId": "ce855797b4600ade17334c79756ec16485bbe93f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34bf3a08_0a5f91c6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2024-07-02T23:28:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0f77a3ef_6e628d06",
      "revId": "ce855797b4600ade17334c79756ec16485bbe93f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}