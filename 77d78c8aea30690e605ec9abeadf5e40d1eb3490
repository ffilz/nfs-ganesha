{
  "comments": [
    {
      "key": {
        "uuid": "1312ff98_9106b6aa",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 5
      },
      "lineNbr": 71,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:39:58Z",
      "side": 1,
      "message": "So this is the main distinction between invalidate (violently reset to 0) and \"try_release\" right? (if last ref \u003d\u003e drop). Up to you if you want to have these share more logic then, but I\u0027d leave a note about the similarities and differences here (or in the try_release code).",
      "range": {
        "startLine": 71,
        "startChar": 0,
        "endLine": 71,
        "endChar": 46
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9262078c_fb955ffe",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 5
      },
      "lineNbr": 494,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:39:58Z",
      "side": 1,
      "message": "s/Kill/Release/",
      "range": {
        "startLine": 494,
        "startChar": 4,
        "endLine": 494,
        "endChar": 8
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de8e0c9d_34e425f3",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 5
      },
      "lineNbr": 496,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:39:58Z",
      "side": 1,
      "message": "I think this comment is out of date?",
      "range": {
        "startLine": 496,
        "startChar": 0,
        "endLine": 496,
        "endChar": 22
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55b78a9b_2a937352",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 5
      },
      "lineNbr": 503,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:39:58Z",
      "side": 1,
      "message": "Could you move this to be adjacent to mdc_up_invalidate which is quite similar?",
      "range": {
        "startLine": 503,
        "startChar": 0,
        "endLine": 503,
        "endChar": 52
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6a4e39e_fbf282a1",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 5
      },
      "lineNbr": 503,
      "author": {
        "id": 1008909
      },
      "writtenOn": "2020-04-24T19:09:44Z",
      "side": 1,
      "message": "Ok.\n\nNote that the header has these in a completely random order. A cleanup patch after this might be nice, but I\u0027d rather not do it before as we may need to backport this to earlier releases, and that would change the ABI unnecessarily.",
      "parentUuid": "55b78a9b_2a937352",
      "range": {
        "startLine": 503,
        "startChar": 0,
        "endLine": 503,
        "endChar": 52
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de159f28_fded7d38",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 5
      },
      "lineNbr": 575,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:39:58Z",
      "side": 1,
      "message": "This should also be next to invalidate/invalidate_close.",
      "range": {
        "startLine": 575,
        "startChar": 0,
        "endLine": 575,
        "endChar": 45
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6816ed1a_0119fe68",
        "filename": "src/FSAL_UP/fsal_up_top.c",
        "patchSetId": 5
      },
      "lineNbr": 1995,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:58:32Z",
      "side": 1,
      "message": "As in the mdcache code, could you move this up to be adjacent to invalidate (as they\u0027re highly related)",
      "range": {
        "startLine": 1995,
        "startChar": 0,
        "endLine": 1995,
        "endChar": 47
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69467530_a345b8fa",
        "filename": "src/FSAL_UP/fsal_up_top.c",
        "patchSetId": 5
      },
      "lineNbr": 2004,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:39:58Z",
      "side": 1,
      "message": "Hmm. Do you think this is the right default? Or maybe a \"no error\"? (That is, like default_methods or whatever it\u0027s called in the FSAL regular ops, most should be \"you probably don\u0027t have to fill this in, and callers shouldn\u0027t have to care\").\n\n[I do agree that NOTSUPP is clearer, and that way a caller who thinks so can say \"Ahh, they\u0027re never going to help me\".]",
      "range": {
        "startLine": 2004,
        "startChar": 0,
        "endLine": 2004,
        "endChar": 38
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2f078d3_e7c90fe0",
        "filename": "src/FSAL_UP/fsal_up_top.c",
        "patchSetId": 5
      },
      "lineNbr": 2004,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2020-04-24T18:48:12Z",
      "side": 1,
      "message": "This one doesn\u0027t actually matter, since mdcache implements it, so we\u0027ll never reach the top for this callback.  If, eventually, we have the ability to run a FSAL without mdcache, then it will matter.",
      "parentUuid": "69467530_a345b8fa",
      "range": {
        "startLine": 2004,
        "startChar": 0,
        "endLine": 2004,
        "endChar": 38
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b54d158_3d214ff9",
        "filename": "src/FSAL_UP/fsal_up_top.c",
        "patchSetId": 5
      },
      "lineNbr": 2004,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:58:32Z",
      "side": 1,
      "message": "I mean more as an example for other FSALs. If an FSAL already implements upcalls, this is their default implementation, right? (not that it particularly matters, like you said, but it seems out of style with invalidate).",
      "parentUuid": "e2f078d3_e7c90fe0",
      "range": {
        "startLine": 2004,
        "startChar": 0,
        "endLine": 2004,
        "endChar": 38
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7fb0baf_6c6e882f",
        "filename": "src/FSAL_UP/fsal_up_top.c",
        "patchSetId": 5
      },
      "lineNbr": 2004,
      "author": {
        "id": 1008909
      },
      "writtenOn": "2020-04-24T19:09:44Z",
      "side": 1,
      "message": "For now I think a distinct error code is better, as if you see this, then it\u0027s most likely that something has gone wrong. If we do get the ability to run w/o mdcache in the future and changing it to return success makes things cleaner, we can always do it then.",
      "parentUuid": "e2f078d3_e7c90fe0",
      "range": {
        "startLine": 2004,
        "startChar": 0,
        "endLine": 2004,
        "endChar": 38
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a22bdd9b_2b29d5f8",
        "filename": "src/FSAL_UP/fsal_up_top.c",
        "patchSetId": 5
      },
      "lineNbr": 2025,
      "author": {
        "id": 1017716
      },
      "writtenOn": "2020-04-24T18:58:32Z",
      "side": 1,
      "message": "Seems like invalidate, invalidate_close and try_release should all be grouped together, fwiw.",
      "range": {
        "startLine": 2025,
        "startChar": 2,
        "endLine": 2025,
        "endChar": 18
      },
      "revId": "77d78c8aea30690e605ec9abeadf5e40d1eb3490",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}