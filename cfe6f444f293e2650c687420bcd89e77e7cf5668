{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "117a0623_ee208934",
        "filename": "/COMMIT_MSG",
        "patchSetId": 25
      },
      "lineNbr": 15,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-08T19:56:41Z",
      "side": 1,
      "message": "The NFS worker threads are actually managed by libntirpc not the fridge. The fridge just manages a handful of special purpose threads and the worker threads for 9P so that probably isn\u0027t what you want.",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9066dcf4_4cca3449",
        "filename": "/COMMIT_MSG",
        "patchSetId": 25
      },
      "lineNbr": 15,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-08T22:59:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "117a0623_ee208934",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c611d53_429078da",
        "filename": "/COMMIT_MSG",
        "patchSetId": 25
      },
      "lineNbr": 15,
      "author": {
        "id": 1015854
      },
      "writtenOn": "2022-09-08T23:31:18Z",
      "side": 1,
      "message": "Should I remove this completely, or try to make it work with libntirpc?\n\nYears ago, I was tuning the NFS kernel server and found that the sweet spot (maximum performance / minimum jitter) was 8 threads / vcpu. It would be nice to be able to do the same for Ganesha.",
      "parentUuid": "117a0623_ee208934",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bdc8e79a_a71b8353",
        "filename": "/COMMIT_MSG",
        "patchSetId": 25
      },
      "lineNbr": 15,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-09T00:03:17Z",
      "side": 1,
      "message": "There is config to control the number of ntirpc worker threads, but currently there is no way to monitor the number of them. We would have to add an interface for that. I think folks WOULD find that useful, so maybe we should add it.",
      "parentUuid": "7c611d53_429078da",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9f5b305_e5b7476e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 25
      },
      "lineNbr": 15,
      "author": {
        "id": 1015854
      },
      "writtenOn": "2022-09-09T01:38:28Z",
      "side": 1,
      "message": "This sounds complicated, so I\u0027m tempted to push this part to a different change.\n\nMy biggest concern is creating a circular dependency between Ganesha and libntirpc. libntirpc should probably export metrics on its own. The Prometheus (aggregation) can combine the separate metrics.",
      "parentUuid": "bdc8e79a_a71b8353",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12d2b016_ed3d928a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 25
      },
      "lineNbr": 17,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-08T19:56:41Z",
      "side": 1,
      "message": "You probably want to add monitoring critical mdcache numbers like number of entries in use and number of open files (which will be changing...).",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3bca0f6_e86a98a4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 25
      },
      "lineNbr": 17,
      "author": {
        "id": 1015854
      },
      "writtenOn": "2022-09-08T23:31:18Z",
      "side": 1,
      "message": "Sure, but can we do that in a separate, smaller change?",
      "parentUuid": "12d2b016_ed3d928a",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9c033466_d18b9125",
        "filename": "/COMMIT_MSG",
        "patchSetId": 25
      },
      "lineNbr": 17,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-09T00:03:17Z",
      "side": 1,
      "message": "Sure.",
      "parentUuid": "f3bca0f6_e86a98a4",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f53ec9e6_a447c1bf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-08T19:56:41Z",
      "side": 1,
      "message": "Note also this is something that will be saved for V5.0 (which we hope to have a much faster turn around than V4.0).",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e0fe9bf_d3a51b8b",
        "filename": "src/include/log.h",
        "patchSetId": 25
      },
      "lineNbr": 112,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-08T19:56:41Z",
      "side": 1,
      "message": "Let\u0027s not add a component for a single message.",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7d2d3b17_9f40a04b",
        "filename": "src/include/log.h",
        "patchSetId": 25
      },
      "lineNbr": 112,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-08T22:59:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8e0fe9bf_d3a51b8b",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d80d0e16_a6d7bed4",
        "filename": "src/include/log.h",
        "patchSetId": 25
      },
      "lineNbr": 112,
      "author": {
        "id": 1015854
      },
      "writtenOn": "2022-09-08T23:31:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8e0fe9bf_d3a51b8b",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82cb8db8_2bd9abcd",
        "filename": "src/monitoring/monitoring.cc",
        "patchSetId": 25
      },
      "lineNbr": 342,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-08T19:56:41Z",
      "side": 1,
      "message": "I don\u0027t think we should add a new log component for a single message. This could be a COMPONENT_INIT message.",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c1826bc_8fe1783f",
        "filename": "src/monitoring/monitoring.cc",
        "patchSetId": 25
      },
      "lineNbr": 342,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-09-08T22:59:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82cb8db8_2bd9abcd",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "20e7d1d7_204e9010",
        "filename": "src/monitoring/monitoring.cc",
        "patchSetId": 25
      },
      "lineNbr": 342,
      "author": {
        "id": 1015854
      },
      "writtenOn": "2022-09-08T23:31:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82cb8db8_2bd9abcd",
      "revId": "cfe6f444f293e2650c687420bcd89e77e7cf5668",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}