{
  "comments": [
    {
      "key": {
        "uuid": "9a5c20ca_26375c55",
        "filename": "src/Protocols/NFS/nfs3_read.c",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-02-22T18:24:08Z",
      "side": 1,
      "message": "Is it safe to return the reference on the callback?",
      "revId": "fa922d07ab1b23b7032cb41a35f23ddcc7908d24",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dcedeec3_5936fedf",
        "filename": "src/Protocols/NFS/nfs3_read.c",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2018-02-22T18:29:19Z",
      "side": 1,
      "message": "More than safe, it has to be done, if we\u0027re actually async.  We can\u0027t release it before calling read2(), and we need it in the callback, and the caller can\u0027t know when the callback is complete.",
      "parentUuid": "9a5c20ca_26375c55",
      "revId": "fa922d07ab1b23b7032cb41a35f23ddcc7908d24",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2a80b4d_43afe372",
        "filename": "src/Protocols/NFS/nfs3_read.c",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-02-22T18:47:51Z",
      "side": 1,
      "message": "Ok, but then how does caller know when the read is done so it can reply to client? Or will true async be handled by the response being sent from the callback?",
      "parentUuid": "dcedeec3_5936fedf",
      "revId": "fa922d07ab1b23b7032cb41a35f23ddcc7908d24",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9395a4fa_78e4efa9",
        "filename": "src/Protocols/NFS/nfs3_read.c",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2018-02-22T18:52:15Z",
      "side": 1,
      "message": "For nfsv3, yes.  For nfsv4, it requires coordination between the callbacks and nfs4_Compound().",
      "parentUuid": "f2a80b4d_43afe372",
      "revId": "fa922d07ab1b23b7032cb41a35f23ddcc7908d24",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}