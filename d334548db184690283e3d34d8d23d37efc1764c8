{
  "comments": [
    {
      "key": {
        "uuid": "6969ec81_422868d1",
        "filename": "src/FSAL/commonlib.c",
        "patchSetId": 1
      },
      "lineNbr": 2965,
      "author": {
        "id": 1005370
      },
      "writtenOn": "2018-11-21T13:23:48Z",
      "side": 1,
      "message": "WARNING: line over 80 characters\n+\tif ((attrs-\u003evalid_mask \u0026 (ATTR_TYPE | ATTR_MODE | FATTR4_FS_LOCATIONS)) \u003d\u003d 0) {",
      "revId": "d334548db184690283e3d34d8d23d37efc1764c8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "455c5e10_c998d006",
        "filename": "src/FSAL/commonlib.c",
        "patchSetId": 1
      },
      "lineNbr": 2965,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-11-21T15:33:32Z",
      "side": 1,
      "message": "You need to fix the long line here.\n\nHave you installed the commit hooks per src/COMPILING_HOWTO.txt\n\nThere is a hook to run checkpatch.pl and a hook to add Gerrit ChangeID",
      "parentUuid": "6969ec81_422868d1",
      "revId": "d334548db184690283e3d34d8d23d37efc1764c8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7e1da43_389c2ea4",
        "filename": "src/FSAL/commonlib.c",
        "patchSetId": 1
      },
      "lineNbr": 2965,
      "author": {
        "id": 1008909
      },
      "writtenOn": "2018-11-21T15:52:18Z",
      "side": 1,
      "message": "I\u0027m not sure I understand here. In what situations would you have fs_locations but not type or mode?",
      "parentUuid": "455c5e10_c998d006",
      "revId": "d334548db184690283e3d34d8d23d37efc1764c8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55354d20_03e8474f",
        "filename": "src/FSAL/commonlib.c",
        "patchSetId": 1
      },
      "lineNbr": 2965,
      "author": {
        "id": 1010034
      },
      "writtenOn": "2018-11-23T16:27:46Z",
      "side": 1,
      "message": "I agree with Jeff, it is very unlikely that we have fs_locations but not type and mode for a file/dir.\n\nAlso, we should be using ATTR4_FS_LOCATIONS here, if at all.",
      "revId": "d334548db184690283e3d34d8d23d37efc1764c8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9dcd0f9b_88250f50",
        "filename": "src/FSAL/commonlib.c",
        "patchSetId": 1
      },
      "lineNbr": 2983,
      "author": {
        "id": 1010034
      },
      "writtenOn": "2018-11-23T16:27:46Z",
      "side": 1,
      "message": "is_sticky_bit_set actually checks two conditions. Whether sticky bit is set and all execute bits are unset. Even if such a directory is not a referral, no user should be able to step into the directory.\n\nI think it is okay to assume that the directory is a referral after checking the sticky bit and execute bits.",
      "revId": "d334548db184690283e3d34d8d23d37efc1764c8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e144d45c_97471a67",
        "filename": "src/FSAL/commonlib.c",
        "patchSetId": 1
      },
      "lineNbr": 2987,
      "author": {
        "id": 1008909
      },
      "writtenOn": "2018-11-21T15:52:18Z",
      "side": 1,
      "message": "This seems like it introduces a chicken-and-egg situation.\n\nThe whole point of this function is to see if the thing is a directory with the correct mode-bit combo. If it matches then the caller generally tries to fetch fs_locations xattr (or whatever, depending on FSAL).\n\nWith this change I don\u0027t see how you\u0027d populate -\u003efs_locations in the first place, especially with something like FSAL_VFS.",
      "revId": "d334548db184690283e3d34d8d23d37efc1764c8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}