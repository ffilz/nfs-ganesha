{
  "comments": [
    {
      "key": {
        "uuid": "0bfc5c38_14f5b702",
        "filename": "src/MainNFSD/CMakeLists.txt",
        "patchSetId": 6
      },
      "lineNbr": 183,
      "author": {
        "id": 1003556
      },
      "writtenOn": "2019-03-08T13:03:33Z",
      "side": 1,
      "message": "Hmm I don\u0027t really like having to point to all sources in a single CMakeLists file, it\u0027s usually a better practice to have files listed in the directory they\u0027re in like we currently do.\nI was thinking of just defining variables with sources from other directories but then cmake wouldn\u0027t manage the path relativity on its own easily, or we\u0027d need to stick $CMAKE_CURRENT_SOURCE_DIR everywhere which is just as ugly :/\n\ncmake \u003e\u003d 3.1 has a \"target_sources()\" command that would let us define the main DSO early on then add the files to it from each dir easily, but can we require cmake 3? It\u0027s in EPEL, so I guess it might be OK even for el7? That would let us keep a build architecture much closer to what we currently have than this current rework.\nAlternatively I\u0027m almost tempted to bring up meson if we\u0027re going to do such a major change, but that\u0027s just my dislike of cmake speaking and it has the same problem (epel only) :P",
      "revId": "dd9e7d251b899a0a44251fb7675338cd038c32a3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "855eced7_e4b1384a",
        "filename": "src/MainNFSD/CMakeLists.txt",
        "patchSetId": 6
      },
      "lineNbr": 183,
      "author": {
        "id": 1004389
      },
      "writtenOn": "2019-03-08T14:04:33Z",
      "side": 1,
      "message": "yes, cmake-3.13 is in EPEL7 and cmake-3.6 is in EPEL6 (as cmake3).\nDebian 9/jessie has cmake-3.7\nUbuntu 16.04/xenial has cmake-3.5\nSLES12 has cmake-3.5\n\nEvery other platform that (I think) we care about has a newer version. As such I don\u0027t believe it\u0027s necessary, per se, to require it; it\u0027s already everywhere. It would only be considered a requirement if someone wants to try to build on things like RHEL5 or SLES11 or Ubuntu 14.04.\n\nI\u0027ll look at target_sources(). I don\u0027t know cmake, so part of the rationale of posting this patch is to elicit just these sorts of suggestions. But if target_sources() isn\u0027t useful then we might be stuck with this.\n\nAnd no, I\u0027m not going to rewrite to meson.",
      "parentUuid": "0bfc5c38_14f5b702",
      "revId": "dd9e7d251b899a0a44251fb7675338cd038c32a3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4aed7ab8_fee17573",
        "filename": "src/MainNFSD/CMakeLists.txt",
        "patchSetId": 6
      },
      "lineNbr": 183,
      "author": {
        "id": 1003556
      },
      "writtenOn": "2019-03-09T01:43:35Z",
      "side": 1,
      "message": "It\u0027s in epel but on el7 you need to explicitely install and run \u0027cmake3\u0027; the default cmake is still a (very old) cmake 2.8, hence my question.\nThat needs updating the spec file require and %cmake command at least (and lead to some more distro specific branching in the spec file, hence why I brought it up :)",
      "parentUuid": "855eced7_e4b1384a",
      "revId": "dd9e7d251b899a0a44251fb7675338cd038c32a3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}