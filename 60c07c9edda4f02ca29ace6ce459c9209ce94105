{
  "comments": [
    {
      "key": {
        "uuid": "78ef27ac_5df91038",
        "filename": "src/FSAL/commonlib.c",
        "patchSetId": 5
      },
      "lineNbr": 3338,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2020-08-10T21:52:04Z",
      "side": 1,
      "message": "Oops, need to pass pds instead of NULL here...",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "432e00d1_72960280",
        "filename": "src/Protocols/NFS/nfs4_op_savefh.c",
        "patchSetId": 5
      },
      "lineNbr": 182,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2020-08-10T12:43:54Z",
      "side": 1,
      "message": "This drops the ref, but doesn\u0027t null the pointer, and the pointer is only conditionally set below.  I think this means we might have a double ref?",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25b3294a_e31736b9",
        "filename": "src/Protocols/NFS/nfs4_op_savefh.c",
        "patchSetId": 5
      },
      "lineNbr": 182,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2020-08-10T18:24:30Z",
      "side": 1,
      "message": "Good catch:\n\ndata-\u003esaved_pnfs_ds \u003d op_ctx-\u003ectx_pnfs_ds;\n\nbelow should be moved out of the conditional.",
      "parentUuid": "432e00d1_72960280",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94833f49_4eb50080",
        "filename": "src/Protocols/NFS/nfs4_op_savefh.c",
        "patchSetId": 5
      },
      "lineNbr": 190,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2020-08-10T21:52:04Z",
      "side": 1,
      "message": "Moved this out to above to assure saved_pnfs_ds is set to NULL if the new SAVEDFH isn\u0027t a ds handle",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b67afc17_b35f6c46",
        "filename": "src/support/ds.c",
        "patchSetId": 5
      },
      "lineNbr": 364,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2020-08-10T21:52:04Z",
      "side": 1,
      "message": "Moved fsal_put out of the conditional, create_fsal_pnfs_ds takes an extra reference for the pnfs ds.",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66fb9944_e01449e8",
        "filename": "src/support/ds.c",
        "patchSetId": 5
      },
      "lineNbr": 380,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2020-08-10T12:43:54Z",
      "side": 1,
      "message": "This appears to be unconditional.  Is another ref takes somewhere?",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "558eea36_61c9ddf3",
        "filename": "src/support/ds.c",
        "patchSetId": 5
      },
      "lineNbr": 380,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2020-08-10T18:24:30Z",
      "side": 1,
      "message": "Ok, I think this needs to either take an additional ds reference, or remove the ds from the op_ctx so release_op_context() doesn\u0027t drop a reference.\n\nAlso the fsal reference returned by fsal_load_init needs to be unconditionally put, fsal_pnfs_ds_init will take a fsal reference for the ds.",
      "parentUuid": "66fb9944_e01449e8",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64bee1a5_62fce029",
        "filename": "src/support/ds.c",
        "patchSetId": 5
      },
      "lineNbr": 380,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2020-08-10T18:30:37Z",
      "side": 1,
      "message": "Or just return success before the err: tag?",
      "parentUuid": "558eea36_61c9ddf3",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0aeecfe4_788b52e8",
        "filename": "src/support/ds.c",
        "patchSetId": 5
      },
      "lineNbr": 380,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2020-08-10T18:41:15Z",
      "side": 1,
      "message": "No I want to keep init_op_context always balanced with release_op_context",
      "parentUuid": "64bee1a5_62fce029",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "485f2872_441401f8",
        "filename": "src/support/ds.c",
        "patchSetId": 5
      },
      "lineNbr": 380,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2020-08-10T21:52:04Z",
      "side": 1,
      "message": "Resolved by actually having create_fsal_pnfs_ds NOT put the pnfs ds into the op_context since there\u0027s no need for it there.",
      "parentUuid": "0aeecfe4_788b52e8",
      "revId": "60c07c9edda4f02ca29ace6ce459c9209ce94105",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}