{
  "comments": [
    {
      "key": {
        "uuid": "23f10f94_e717c13b",
        "filename": "src/SAL/nfs4_recovery.c",
        "patchSetId": 3
      },
      "lineNbr": 360,
      "author": {
        "id": 1008909
      },
      "writtenOn": "2020-09-28T15:24:11Z",
      "side": 1,
      "message": "This code is only reached when this is called from admin_dbus_grace(). I don\u0027t have a personal objection to this myself since none of the code I\u0027m interested in uses dbus to initiate grace periods, but there are some that do.\n\nFurthermore, ISTR that some of those solutions (gluster\u0027s clustering maybe?) rely on being able to merge in-memory databases, so I wonder if this change would play well there?\n\nIn any case, if this is what is desired, a better fix might be to just remove the special case in nfs4_recovery_load_clids(), and have it always do nfs4_cleanup_clid_entries(). This is the only place that passes that function a gsp value.",
      "revId": "724f817f00794b7311961309b7649af104da165a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f80c58e5_1af381f6",
        "filename": "src/SAL/nfs4_recovery.c",
        "patchSetId": 3
      },
      "lineNbr": 360,
      "author": {
        "id": 1008909
      },
      "writtenOn": "2020-09-28T16:48:34Z",
      "side": 1,
      "message": "Yeah, looking closer, I think if you do this you\u0027re going to break the EVENT_TAKE_NODEID case. That\u0027s supposedly there to allow a server head to take over the addresses and client list for another. I think that can happen while you\u0027re already in a grace period too, so that could mean cleaning out entries for clients that may not have reclaimed yet.",
      "parentUuid": "23f10f94_e717c13b",
      "revId": "724f817f00794b7311961309b7649af104da165a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60f23ba2_78839c11",
        "filename": "src/SAL/nfs4_recovery.c",
        "patchSetId": 3
      },
      "lineNbr": 360,
      "author": {
        "id": 1016888
      },
      "writtenOn": "2020-09-29T10:46:21Z",
      "side": 1,
      "message": "Jeff, you are right, thank you very much.\nIf in grace period, it can not be cleaned up.",
      "parentUuid": "f80c58e5_1af381f6",
      "revId": "724f817f00794b7311961309b7649af104da165a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}