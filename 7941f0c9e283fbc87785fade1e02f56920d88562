{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8d1e4805_a64f87d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2021-05-12T14:45:20Z",
      "side": 1,
      "message": "This is a good change.  I think we should also do last_update as part of this.",
      "revId": "7941f0c9e283fbc87785fade1e02f56920d88562",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4871c101_d59d65a8",
        "filename": "src/support/server_stats.c",
        "patchSetId": 2
      },
      "lineNbr": 1496,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2021-05-12T14:45:20Z",
      "side": 1,
      "message": "It looks like stop_time and last_update should be changed to timespec as well, since last_update is always converted back to a timespec before it\u0027s used.",
      "revId": "7941f0c9e283fbc87785fade1e02f56920d88562",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32f1c81a_eb13ea1d",
        "filename": "src/support/server_stats.c",
        "patchSetId": 2
      },
      "lineNbr": 1496,
      "author": {
        "id": 1011997
      },
      "writtenOn": "2021-05-12T15:37:06Z",
      "side": 1,
      "message": "Thanks Dan. I will update the patch.",
      "parentUuid": "4871c101_d59d65a8",
      "revId": "7941f0c9e283fbc87785fade1e02f56920d88562",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "21345368_83661ef4",
        "filename": "src/support/server_stats.c",
        "patchSetId": 2
      },
      "lineNbr": 1496,
      "author": {
        "id": 1011997
      },
      "writtenOn": "2021-05-12T16:08:48Z",
      "side": 1,
      "message": "One question. Since last_update is updated using atomic update, we cannot do that for struct timespec which has two uint64_t\u0027s. We can two two atomic updates; but the whole\nwon\u0027t be atomic (two threads can step on each other). This may not be a big issue as both should be very close.\nlast_update is only used for display purpose in dbus output. So, the other approach is to only keep tv_sec part in last_update.\nWhich do you think make more sense?",
      "parentUuid": "32f1c81a_eb13ea1d",
      "revId": "7941f0c9e283fbc87785fade1e02f56920d88562",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "13680ad8_3c0570db",
        "filename": "src/support/server_stats.c",
        "patchSetId": 2
      },
      "lineNbr": 1496,
      "author": {
        "id": 1011997
      },
      "writtenOn": "2021-05-12T18:50:46Z",
      "side": 1,
      "message": "Changed last_update also to timespec.",
      "parentUuid": "21345368_83661ef4",
      "revId": "7941f0c9e283fbc87785fade1e02f56920d88562",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e46bc54_2159298a",
        "filename": "src/support/server_stats.c",
        "patchSetId": 2
      },
      "lineNbr": 1496,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2021-05-13T13:37:49Z",
      "side": 1,
      "message": "I think that two atomics is fine.  The seconds are what\u0027s really important, the sub-second could be wrong, but it will still be within a second.",
      "parentUuid": "21345368_83661ef4",
      "revId": "7941f0c9e283fbc87785fade1e02f56920d88562",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3313fab9_4e674c34",
        "filename": "src/support/server_stats.c",
        "patchSetId": 2
      },
      "lineNbr": 1496,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2021-05-14T17:21:49Z",
      "side": 1,
      "message": "And it looks like last_update is just informational, I\u0027m not sure what anyone actually does with it.",
      "parentUuid": "5e46bc54_2159298a",
      "revId": "7941f0c9e283fbc87785fade1e02f56920d88562",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}