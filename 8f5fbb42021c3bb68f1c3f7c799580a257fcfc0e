{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "342843bc_2a1a9142",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2024-05-31T15:51:33Z",
      "side": 1,
      "message": "Add verified +1 based on https://github.com/nfs-ganesha/nfs-ganesha/issues/1141",
      "revId": "8f5fbb42021c3bb68f1c3f7c799580a257fcfc0e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa71c339_c91c7f0a",
        "filename": "src/FSAL/FSAL_VFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 430,
      "author": {
        "id": 1021665
      },
      "writtenOn": "2024-06-04T04:55:30Z",
      "side": 1,
      "message": "Don\u0027t we need to have similar change in void release(struct fsal_obj_handle *obj_hdl) as well, the non reclaiming paths?",
      "revId": "8f5fbb42021c3bb68f1c3f7c799580a257fcfc0e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c819a19_63c544d1",
        "filename": "src/FSAL/FSAL_VFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 430,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2024-06-04T18:12:01Z",
      "side": 1,
      "message": "No, in the case where fsal_start_fd_work is called with is_reclaiming true from close_fsal_fd, if the reclaiming causes fd_work to not be started, then there is no need to call fsal_fd_complete_work because it has already been called.\n\nThus when fsal_start_fd_work returns success, fsal_complete_fd_work must be called with no need for any changes.",
      "parentUuid": "aa71c339_c91c7f0a",
      "revId": "8f5fbb42021c3bb68f1c3f7c799580a257fcfc0e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f3000e3_7afb262e",
        "filename": "src/FSAL/FSAL_VFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 430,
      "author": {
        "id": 1021665
      },
      "writtenOn": "2024-06-05T04:19:07Z",
      "side": 1,
      "message": "But, if you see that codes... close_fsal_fd() is called with is_reclaiming as false...\nhttps://github.com/nfs-ganesha/nfs-ganesha/blob/next/src/FSAL/FSAL_VFS/handle.c#L1735\n\nAnd then, here fsal_start_fd_work is called with same false value ...\nhttps://github.com/nfs-ganesha/nfs-ganesha/blob/next/src/FSAL/commonlib.c#L2089\n\nPlease recheck this path once...",
      "parentUuid": "4c819a19_63c544d1",
      "revId": "8f5fbb42021c3bb68f1c3f7c799580a257fcfc0e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f08ee109_28a66365",
        "filename": "src/FSAL/FSAL_VFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 430,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2024-06-06T00:05:22Z",
      "side": 1,
      "message": "Since fsal_start_fd_work  with is_reclaim \u003d\u003d false, the error paths won\u0027t be taken and it will return success. The caller in this case in any case, checks the return value. I guess we could add a LogAbort if it gets an error and is_reclaiming is false.\n\nThe main thing this patch does is makes sure if there is an error, fsal_complete_fd_work  is called. And then adds a wrapper for those places that unconditionally call fsal_complete_fd_work  with is_reclaim \u003d\u003d false and don\u0027t expect a return value.",
      "parentUuid": "4f3000e3_7afb262e",
      "revId": "8f5fbb42021c3bb68f1c3f7c799580a257fcfc0e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}