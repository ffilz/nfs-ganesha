{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "85ad3922_06b2ea04",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2022-11-09T18:10:48Z",
      "side": 1,
      "message": "I think I may have to go through this again.  I\u0027m not fully convinced.  Maybe a block comment describing when things should be inserted/move where?",
      "revId": "f66b36602a8629486dd9a857e8fc205b0852e4eb",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6277b61a_61706aa5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-11-09T18:39:16Z",
      "side": 1,
      "message": "Yea, that would be a good idea.",
      "parentUuid": "85ad3922_06b2ea04",
      "revId": "f66b36602a8629486dd9a857e8fc205b0852e4eb",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f3f1cab_0c07f6af",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-11-09T19:41:14Z",
      "side": 1,
      "message": "The new way L1 and L2 will be used:\n\nEntries created via readdir directory scan will go into MRU of L2 all other new entries will go into MRU of L1. Any entry that gets an INITIAL reference for an operation will be promted to MRU of L1 (possibly promoted from L2 also). Non-INITIAL references don\u0027t promote entries.\n\nThe LRU thread will periodically demote to L2. I\u0027m really not totally convinced we still need L1 and L2...\n\nWe try and reap from L2 first.",
      "revId": "f66b36602a8629486dd9a857e8fc205b0852e4eb",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5f749d5_6ac3ea27",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2022-11-10T13:42:33Z",
      "side": 1,
      "message": "Okay, with this, there\u0027s almost no difference between a single list and a double list.  Only if there\u0027s a gap, allowing L1-\u003eL2 demotions, followed by a readdir.  Otherwise, it\u0027s the same as putting readdir results in LRU of a single list.  I guess it could make a difference in re-use of readdir results, but I think in steady use, where we\u0027re reaping regularly, L2 will generally be empty or small, and having 2 queue won\u0027t make much of a difference.",
      "parentUuid": "6f3f1cab_0c07f6af",
      "revId": "f66b36602a8629486dd9a857e8fc205b0852e4eb",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6cf1df2_7a35a2cd",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_lru.c",
        "patchSetId": 1
      },
      "lineNbr": 1967,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2022-11-09T18:10:48Z",
      "side": 1,
      "message": "This comment isn\u0027t accurate anymore, it\u0027s inserting into MRU of L1, right?",
      "revId": "f66b36602a8629486dd9a857e8fc205b0852e4eb",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfa4db18_a5a41eb8",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_lru.c",
        "patchSetId": 1
      },
      "lineNbr": 1967,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2022-11-09T18:39:16Z",
      "side": 1,
      "message": "Oops, yes",
      "parentUuid": "e6cf1df2_7a35a2cd",
      "revId": "f66b36602a8629486dd9a857e8fc205b0852e4eb",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}