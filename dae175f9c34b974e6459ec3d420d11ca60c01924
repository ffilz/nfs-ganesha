{
  "comments": [
    {
      "key": {
        "uuid": "4c1f45d1_318986cd",
        "filename": "src/FSAL/FSAL_GPFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 411,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-01-12T14:52:25Z",
      "side": 1,
      "message": "Actually can we add O_NOFOLLOW here? That\u0027s actually what we should set for the openat calls in FSAL_VFS that would stop this.",
      "revId": "dae175f9c34b974e6459ec3d420d11ca60c01924",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0ed3b84_0afe7bf7",
        "filename": "src/FSAL/FSAL_GPFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1003947
      },
      "writtenOn": "2018-01-16T07:35:06Z",
      "side": 1,
      "message": "can attrs_out be NULL here? If so, the following alloc_handle() would crash.",
      "revId": "dae175f9c34b974e6459ec3d420d11ca60c01924",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "49f84851_cc9e2971",
        "filename": "src/FSAL/FSAL_GPFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2018-01-16T13:03:50Z",
      "side": 1,
      "message": "Both 9P and NFS4 call with attrs_out as null, but I\u0027m not sure whether that can hit this codepath or not.",
      "parentUuid": "a0ed3b84_0afe7bf7",
      "revId": "dae175f9c34b974e6459ec3d420d11ca60c01924",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c197cdc4_a393b856",
        "filename": "src/FSAL/FSAL_GPFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-01-16T15:08:18Z",
      "side": 1,
      "message": "Hmm, it looks like we can have attrs_out \u003d\u003d NULL in this path... We should check all the FSALs for assumptions...",
      "parentUuid": "49f84851_cc9e2971",
      "revId": "dae175f9c34b974e6459ec3d420d11ca60c01924",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b885fdc_1dbe4cc9",
        "filename": "src/FSAL/FSAL_GPFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1008177
      },
      "writtenOn": "2018-01-16T15:52:40Z",
      "side": 1,
      "message": "For GPFS, in gpfs_open2() the attrs_out is received as non NULL for the code path. And probably that\u0027s why the existing code of alloc_handle() for GPFS doesn\u0027t have a check for \u0027attrs_out\u0027 to check if its not NULL. We can probably remove the check for \u0027attrs_out !\u003d NULL\u0027 here too.",
      "parentUuid": "a0ed3b84_0afe7bf7",
      "revId": "dae175f9c34b974e6459ec3d420d11ca60c01924",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f441f8a_c60d8b0d",
        "filename": "src/FSAL/FSAL_GPFS/file.c",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-01-17T22:14:17Z",
      "side": 1,
      "message": "Ok, if attrs_out is assured to be non-NULL then we can just remove the check. It might be worth putting an assert in, though alloc_handle should crash if attrs_out is NULL.",
      "parentUuid": "5b885fdc_1dbe4cc9",
      "revId": "dae175f9c34b974e6459ec3d420d11ca60c01924",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}