{
  "comments": [
    {
      "key": {
        "uuid": "0aa2b9aa_12d57bb9",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_helpers.c",
        "patchSetId": 1
      },
      "lineNbr": 394,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2019-04-18T13:46:31Z",
      "side": 1,
      "message": "How about setting parent_time to time(NULL) + expire_time (i.e. make it parent_expire_time).  Then we can just check it against time() below, rather than calling into the FSAL twice.",
      "revId": "3c25681263088f5ae8bb09d3ec7a54c8d12f606e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "906a42db_e105738d",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_helpers.c",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2019-04-18T13:46:31Z",
      "side": 1,
      "message": "mdcache_free_fh() is safe to call unconditionally",
      "revId": "3c25681263088f5ae8bb09d3ec7a54c8d12f606e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c960ae55_9287f568",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_helpers.c",
        "patchSetId": 1
      },
      "lineNbr": 1166,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2019-04-18T13:46:31Z",
      "side": 1,
      "message": "Hmm... I think a bit of re-org would be nice here.  This lock can move to after the if(..) section, since that unconditionally returns.",
      "revId": "3c25681263088f5ae8bb09d3ec7a54c8d12f606e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "814462bc_61454c47",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_helpers.c",
        "patchSetId": 1
      },
      "lineNbr": 1177,
      "author": {
        "id": 1004087
      },
      "writtenOn": "2019-04-18T13:46:31Z",
      "side": 1,
      "message": "And then this can unconditionally write-lock",
      "revId": "3c25681263088f5ae8bb09d3ec7a54c8d12f606e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}