{
  "comments": [
    {
      "key": {
        "uuid": "79e23f14_bf52bd04",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 1
      },
      "lineNbr": 373,
      "author": {
        "id": 1003947
      },
      "writtenOn": "2018-12-06T18:51:03Z",
      "side": 1,
      "message": "This new code is setting some more fields (like cred pointer and export_perms pointer) but all those seem to be bogus anyway (zeros). If the lock_grant call really uses them, we need to fix them to correct settings as well, correct?",
      "revId": "c6950b430fb8a87728f01eb5f7b0640d84d34e19",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eadb7f3f_8db01322",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 1
      },
      "lineNbr": 373,
      "author": {
        "id": 1008938
      },
      "writtenOn": "2018-12-07T09:00:17Z",
      "side": 1,
      "message": "Checked lock_grant function and its called functions. We are not using cred and export_perm, so should be safe.",
      "parentUuid": "79e23f14_bf52bd04",
      "revId": "c6950b430fb8a87728f01eb5f7b0640d84d34e19",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9313274c_337ed6a9",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 1
      },
      "lineNbr": 373,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-12-07T18:44:56Z",
      "side": 1,
      "message": "The SAL code only uses ctx_export and fsal_export",
      "parentUuid": "79e23f14_bf52bd04",
      "revId": "c6950b430fb8a87728f01eb5f7b0640d84d34e19",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8bb627b_3a182d69",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 1
      },
      "lineNbr": 373,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-12-07T18:44:56Z",
      "side": 1,
      "message": "Hmm, is this true for FSAL_GLUSTER? A lock_grant racing with a lock cancel can result in SAL making a call back into the FSAL to release the granted lock (that is no longer wanted by the client).",
      "parentUuid": "eadb7f3f_8db01322",
      "revId": "c6950b430fb8a87728f01eb5f7b0640d84d34e19",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c1f8bdb4_261b1568",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 1
      },
      "lineNbr": 373,
      "author": {
        "id": 1008938
      },
      "writtenOn": "2018-12-10T06:58:12Z",
      "side": 1,
      "message": "I am not sure about race condition. May we need to take care of race condition in separate code patch. This patch is more for avoiding the crash due to non-availability of proper op_ctx.",
      "parentUuid": "b8bb627b_3a182d69",
      "revId": "c6950b430fb8a87728f01eb5f7b0640d84d34e19",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85d27bbf_6d89cdaa",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 1
      },
      "lineNbr": 373,
      "author": {
        "id": 1004333
      },
      "writtenOn": "2018-12-10T15:18:47Z",
      "side": 1,
      "message": "wrt FSAL_GLUSTER, it hasnt got upcall support for lock grant notifications.",
      "parentUuid": "c1f8bdb4_261b1568",
      "revId": "c6950b430fb8a87728f01eb5f7b0640d84d34e19",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b44ebada_13b51d8d",
        "filename": "src/FSAL/Stackable_FSALs/FSAL_MDCACHE/mdcache_up.c",
        "patchSetId": 1
      },
      "lineNbr": 373,
      "author": {
        "id": 1003571
      },
      "writtenOn": "2018-12-10T15:29:41Z",
      "side": 1,
      "message": "Ah, good point.",
      "parentUuid": "85d27bbf_6d89cdaa",
      "revId": "c6950b430fb8a87728f01eb5f7b0640d84d34e19",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}